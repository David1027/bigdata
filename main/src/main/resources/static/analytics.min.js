(function(){var a={config:{url:"/api/analytics",key:"shoestp",project:"bigdata"},init:function(){var c=this;if(sessionStorage&&!sessionStorage[c.config.key+c.config.project]){sessionStorage[c.config.key+c.config.project]=document.referrer}if(localStorage&&localStorage[c.config.key+"userKey"]){this.data.userInfo=localStorage[c.config.key+"userKey"]}var b=null;if(document.onmousedown){b=document.onmousedown}document.onmousedown=function(e){var d=e||event;c.data.mouseClick.push({x:d.clientX,y:d.clientY,scroll:c.ScollPostion()});if(b){b(e)}};window.addEventListener("unload",function(d){c.data.firstReferrer=sessionStorage[c.config.key+c.config.project];navigator.sendBeacon(c.config.url,JSON.stringify(c.data))})},data:{title:document.title,url:window.location.href,firstReferrer:sessionStorage.bigdata,pageReferrer:document.referrer,pageLoadInfo:window.performance.timing,mouseClick:[],windows:{height:window.screen.height,width:window.screen.width},userInfo:null},ScollPostion:function(){var d,c,b,e;if(document.documentElement&&document.documentElement.scrollTop){d=document.documentElement.scrollTop;c=document.documentElement.scrollLeft;b=document.documentElement.scrollWidth;e=document.documentElement.scrollHeight}else{if(document.body){d=document.body.scrollTop;c=document.body.scrollLeft;b=document.body.scrollWidth;e=document.body.scrollHeight}}return{top:d,left:c,width:b,height:e}}};a.init()})();