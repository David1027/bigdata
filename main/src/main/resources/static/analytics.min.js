(function(){var a={config:{url:"http://127.0.0.1/api/analytics"},init:function(){var c=this;if(sessionStorage&&!sessionStorage.bigdata){sessionStorage.bigdata=document.referrer;console.log(sessionStorage&&!sessionStorage.bigdata)}if(localStorage&&localStorage.shoestp_userInfo){this.data.userInfo=localStorage.shoestp_userInfo}var b=null;if(document.onmousedown){b=document.onmousedown}document.onmousedown=function(e){var d=e||event;c.data.mouseClick.push({x:d.clientX,y:d.clientY,scroll:c.ScollPostion()});if(b){b(e)}};window.addEventListener("unload",function(d){c.data.firstReferrer=sessionStorage.bigdata;navigator.sendBeacon(c.config.url,JSON.stringify(c.data))})},data:{title:document.title,url:window.location.href,firstReferrer:sessionStorage.bigdata,pageReferrer:document.referrer,pageLoadInfo:window.performance.timing,mouseClick:[],windows:{height:window.screen.height,width:window.screen.width},userInfo:null},ScollPostion:function(){var d,c,b,e;if(document.documentElement&&document.documentElement.scrollTop){d=document.documentElement.scrollTop;c=document.documentElement.scrollLeft;b=document.documentElement.scrollWidth;e=document.documentElement.scrollHeight}else{if(document.body){d=document.body.scrollTop;c=document.body.scrollLeft;b=document.body.scrollWidth;e=document.body.scrollHeight}}return{top:d,left:c,width:b,height:e}},ajax:{get:function(b,c){var d=new XMLHttpRequest();d.open("GET",b,true);d.onreadystatechange=function(){if(d.readyState==4&&d.status==200||d.status==304){c.call(this,d.responseText)}};d.send()},post:function(c,e,d,b){if(!b){b="application/x-www-form-urlencoded"}var f=new XMLHttpRequest();f.open("POST",c,true);f.setRequestHeader("Content-Type",b);f.onreadystatechange=function(){if(f.readyState==4&&(f.status==200||f.status==304)){d.call(this,f.responseText)}};f.send(e)}}};a.init()})();